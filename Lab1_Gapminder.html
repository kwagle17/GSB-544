<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab 1: Gapminder</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Lab1_Gapminder_files/libs/clipboard/clipboard.min.js"></script>
<script src="Lab1_Gapminder_files/libs/quarto-html/quarto.js"></script>
<script src="Lab1_Gapminder_files/libs/quarto-html/popper.min.js"></script>
<script src="Lab1_Gapminder_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Lab1_Gapminder_files/libs/quarto-html/anchor.min.js"></script>
<link href="Lab1_Gapminder_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Lab1_Gapminder_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Lab1_Gapminder_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Lab1_Gapminder_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Lab1_Gapminder_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab 1: Gapminder</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Kabir Wagle</p>
<div class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="task-1" class="level1">
<h1>Task 1:</h1>
<ul>
<li>Scatter plot of Income vs Life Expectency</li>
<li>Bubble size denotes the size of the population</li>
<li>Bubble color denotes the region</li>
<li>Each data point represents a country</li>
<li>X axis increases at an exponential scale</li>
<li>Y axis is linear</li>
<li>Secondary X axis denotes “INCOME LEVEL”</li>
<li>Customizable right hand side menu</li>
</ul>
<div class="cell" data-scrolled="true" data-execution_count="190">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> pd.read_csv(<span class="st">'q1data.csv'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="190">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">life_exp</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">four_regions</th>
<th data-quarto-table-cell-role="th">six_regions</th>
<th data-quarto-table-cell-role="th">eight_regions</th>
<th data-quarto-table-cell-role="th">world_bank_region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1910.0</td>
<td>61.0</td>
<td>29200000.0</td>
<td>2010</td>
<td>Afghanistan</td>
<td>asia</td>
<td>south_asia</td>
<td>asia_west</td>
<td>South Asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>11100.0</td>
<td>78.1</td>
<td>2950000.0</td>
<td>2010</td>
<td>Albania</td>
<td>europe</td>
<td>europe_central_asia</td>
<td>europe_east</td>
<td>Europe &amp; Central Asia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>11100.0</td>
<td>74.7</td>
<td>36000000.0</td>
<td>2010</td>
<td>Algeria</td>
<td>africa</td>
<td>middle_east_north_africa</td>
<td>africa_north</td>
<td>Middle East &amp; North Africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>46900.0</td>
<td>81.9</td>
<td>84500.0</td>
<td>2010</td>
<td>Andorra</td>
<td>europe</td>
<td>europe_central_asia</td>
<td>europe_west</td>
<td>Europe &amp; Central Asia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>7680.0</td>
<td>60.8</td>
<td>23400000.0</td>
<td>2010</td>
<td>Angola</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">192</td>
<td>20400.0</td>
<td>75.4</td>
<td>28400000.0</td>
<td>2010</td>
<td>Venezuela</td>
<td>americas</td>
<td>america</td>
<td>america_south</td>
<td>Latin America &amp; Caribbean</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">193</td>
<td>5350.0</td>
<td>73.3</td>
<td>88000000.0</td>
<td>2010</td>
<td>Vietnam</td>
<td>asia</td>
<td>east_asia_pacific</td>
<td>east_asia_pacific</td>
<td>East Asia &amp; Pacific</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">194</td>
<td>4700.0</td>
<td>67.8</td>
<td>23200000.0</td>
<td>2010</td>
<td>Yemen</td>
<td>asia</td>
<td>middle_east_north_africa</td>
<td>asia_west</td>
<td>Middle East &amp; North Africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">195</td>
<td>3200.0</td>
<td>57.5</td>
<td>13600000.0</td>
<td>2010</td>
<td>Zambia</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">196</td>
<td>2560.0</td>
<td>54.4</td>
<td>12700000.0</td>
<td>2010</td>
<td>Zimbabwe</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
</tbody>
</table>

<p>197 rows × 9 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="191">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> df1.loc[:, [<span class="st">'income'</span>, <span class="st">'life_exp'</span>,<span class="st">'population'</span>, <span class="st">'country'</span>, <span class="st">'four_regions'</span>]]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df1.drop([<span class="dv">56</span>, <span class="dv">73</span>, <span class="dv">99</span>, <span class="dv">129</span>], inplace<span class="op">=</span><span class="va">True</span>) <span class="co">#removes NAN entries</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>df1.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="191">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">life_exp</th>
<th data-quarto-table-cell-role="th">population</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">four_regions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1910.0</td>
<td>61.0</td>
<td>29200000.0</td>
<td>Afghanistan</td>
<td>asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>11100.0</td>
<td>78.1</td>
<td>2950000.0</td>
<td>Albania</td>
<td>europe</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>11100.0</td>
<td>74.7</td>
<td>36000000.0</td>
<td>Algeria</td>
<td>africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>46900.0</td>
<td>81.9</td>
<td>84500.0</td>
<td>Andorra</td>
<td>europe</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>7680.0</td>
<td>60.8</td>
<td>23400000.0</td>
<td>Angola</td>
<td>africa</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="212">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> ggplot, geom_point, aes, scale_x_continuous, scale_y_continuous, scale_x_log10, scale_y_log10, guides, theme</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotnine <span class="im">import</span> <span class="op">*</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-scrolled="true" data-execution_count="141">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(ggplot(df1, aes(x <span class="op">=</span> <span class="st">"income"</span>, y <span class="op">=</span> <span class="st">"life_exp"</span>, color <span class="op">=</span> <span class="st">"four_regions"</span>, size <span class="op">=</span> <span class="st">"population"</span>))</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> geom_point()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_x_log10(limits <span class="op">=</span> (<span class="dv">500</span>, <span class="dv">64000</span>), breaks <span class="op">=</span> [<span class="dv">500</span>,<span class="dv">1000</span>,<span class="dv">2000</span>,<span class="dv">4000</span>,<span class="dv">8000</span>,<span class="dv">16000</span>, <span class="dv">32000</span>, <span class="dv">64000</span>])</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_y_continuous(limits <span class="op">=</span> (<span class="dv">20</span>, <span class="dv">90</span>), breaks <span class="op">=</span> <span class="bu">range</span>(<span class="dv">20</span>, <span class="dv">100</span>, <span class="dv">10</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> labs(x <span class="op">=</span> <span class="st">"Income"</span>, y <span class="op">=</span> <span class="st">"Life Expectancy"</span>, color <span class="op">=</span> <span class="st">"World Region"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> guides(size <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_color_manual(values <span class="op">=</span> [<span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"red"</span>, <span class="st">"yellow"</span>], </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                    labels <span class="op">=</span> [<span class="st">"Africa"</span>, <span class="st">"Americas"</span>, <span class="st">"Asia"</span>, <span class="st">"Europe"</span>])</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> theme(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    panel_background <span class="op">=</span> element_rect(fill <span class="op">=</span> <span class="st">'white'</span>),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    panel_grid <span class="op">=</span> element_blank(),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    panel_grid_major <span class="op">=</span> element_line(color <span class="op">=</span> <span class="st">"#CCCCCC"</span>), <span class="co">#lighter color of gray</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    panel_border <span class="op">=</span> element_rect(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    axis_line <span class="op">=</span> element_line(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    axis_text <span class="op">=</span> element_text(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    axis_title <span class="op">=</span> element_text(color <span class="op">=</span> <span class="st">'gray'</span>))</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> theme(figure_size <span class="op">=</span> (<span class="fl">7.5</span>, <span class="fl">3.5</span>)) <span class="co">#adjusts size of plot</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_size_continuous(<span class="bu">range</span> <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">15</span>]) <span class="co">#adjusts size of points</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/kabirwagle/opt/anaconda3/lib/python3.8/site-packages/plotnine/layer.py:364: PlotnineWarning: geom_point : Removed 9 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Lab1_Gapminder_files/figure-html/cell-6-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="141">
<pre><code>&lt;Figure Size: (750 x 350)&gt;</code></pre>
</div>
</div>
<div class="cell" data-execution_count="192">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(ggplot(df1, aes(x <span class="op">=</span> <span class="st">"income"</span>, y <span class="op">=</span> <span class="st">"life_exp"</span>, color <span class="op">=</span> <span class="st">"four_regions"</span>, size <span class="op">=</span> <span class="st">"population"</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a> <span class="op">+</span> geom_violin()</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/kabirwagle/opt/anaconda3/lib/python3.8/site-packages/plotnine/positions/position.py:229: PlotnineWarning: position_dodge requires non-overlapping x intervals</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Lab1_Gapminder_files/figure-html/cell-7-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="192">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>
</div>
<p>The above graph is a violin plot of Income against Life Expectancy. It provides a good description of the variability and distribution for each of the four regions. The obvious drawback is that the violin plot does not allow for the presence of the 4th variable: population. Aditionally, the violin plots of the four regions are overlayed, this makes it more diffucult to decipher the exact distribution.</p>
</section>
<section id="task-2" class="level1">
<h1>Task 2:</h1>
<ul>
<li>Scatter plot of Exports vs Imports</li>
<li>Bubble size denotes the energy use</li>
<li>Bubble color denotes the region</li>
<li>Each data point represents a country</li>
<li>X and Y axis are linear</li>
</ul>
<div class="cell" data-execution_count="201">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> pd.read_csv(<span class="st">'q2data.csv'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="201">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">imports</th>
<th data-quarto-table-cell-role="th">exports</th>
<th data-quarto-table-cell-role="th">energy</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">four_regions</th>
<th data-quarto-table-cell-role="th">six_regions</th>
<th data-quarto-table-cell-role="th">eight_regions</th>
<th data-quarto-table-cell-role="th">world_bank_region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1997</td>
<td>Afghanistan</td>
<td>asia</td>
<td>south_asia</td>
<td>asia_west</td>
<td>South Asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>36.7</td>
<td>11.5</td>
<td>427</td>
<td>1997</td>
<td>Albania</td>
<td>europe</td>
<td>europe_central_asia</td>
<td>europe_east</td>
<td>Europe &amp; Central Asia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>22.5</td>
<td>22.6</td>
<td>825</td>
<td>1997</td>
<td>Algeria</td>
<td>africa</td>
<td>middle_east_north_africa</td>
<td>africa_north</td>
<td>Middle East &amp; North Africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1997</td>
<td>American Samoa</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>NaN</td>
<td>NaN</td>
<td>434</td>
<td>1997</td>
<td>Angola</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">201</td>
<td>52.2</td>
<td>44.8</td>
<td>340</td>
<td>1997</td>
<td>Vietnam</td>
<td>asia</td>
<td>east_asia_pacific</td>
<td>east_asia_pacific</td>
<td>East Asia &amp; Pacific</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">202</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1997</td>
<td>Virgin Islands (U.S.)</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">203</td>
<td>NaN</td>
<td>NaN</td>
<td>241</td>
<td>1997</td>
<td>Yemen</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">204</td>
<td>31.6</td>
<td>24.6</td>
<td>617</td>
<td>1997</td>
<td>Zambia</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">205</td>
<td>45.1</td>
<td>43.4</td>
<td>845</td>
<td>1997</td>
<td>Zimbabwe</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
</tbody>
</table>

<p>206 rows × 9 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="202">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> df2.loc[:, [<span class="st">'imports'</span>, <span class="st">'exports'</span>,<span class="st">'energy'</span>, <span class="st">'country'</span>, <span class="st">'four_regions'</span>]]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> df2.dropna() <span class="co">#Drop the NAN values</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>df2[<span class="st">'energy'</span>] <span class="op">=</span> df2[<span class="st">'energy'</span>].<span class="bu">str</span>.replace(<span class="st">'k'</span>, <span class="st">''</span>).astype(<span class="bu">float</span>) <span class="op">*</span> <span class="dv">1000</span> <span class="co">#replaces 1k with 1000</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>df2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="202">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">imports</th>
<th data-quarto-table-cell-role="th">exports</th>
<th data-quarto-table-cell-role="th">energy</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">four_regions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>36.7</td>
<td>11.5</td>
<td>427000.0</td>
<td>Albania</td>
<td>europe</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>22.5</td>
<td>22.6</td>
<td>825000.0</td>
<td>Algeria</td>
<td>africa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>12.9</td>
<td>10.4</td>
<td>1660000.0</td>
<td>Argentina</td>
<td>americas</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>52.8</td>
<td>19.0</td>
<td>610000.0</td>
<td>Armenia</td>
<td>europe</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>20.5</td>
<td>19.6</td>
<td>5550000.0</td>
<td>Australia</td>
<td>asia</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="203">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(ggplot(df2, aes(x <span class="op">=</span> <span class="st">"imports"</span>, y <span class="op">=</span> <span class="st">"exports"</span>, color <span class="op">=</span> <span class="st">"four_regions"</span>, size <span class="op">=</span> <span class="st">"energy"</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> geom_point()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_x_continuous(limits <span class="op">=</span> (<span class="dv">20</span>, <span class="dv">220</span>), breaks <span class="op">=</span> <span class="bu">range</span>(<span class="dv">20</span>, <span class="dv">240</span>, <span class="dv">20</span>))</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_y_continuous(limits <span class="op">=</span> (<span class="dv">50</span>, <span class="dv">400</span>), breaks <span class="op">=</span> <span class="bu">range</span>(<span class="dv">50</span>, <span class="dv">450</span>, <span class="dv">50</span>))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> labs(x <span class="op">=</span> <span class="st">"Exports(\</span><span class="sc">% o</span><span class="st">f GDP)"</span>, y <span class="op">=</span> <span class="st">"Imports(\</span><span class="sc">% o</span><span class="st">f GDP)"</span>, color <span class="op">=</span> <span class="st">"World Region"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_color_manual(values <span class="op">=</span> [<span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"red"</span>, <span class="st">"yellow"</span>],</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                     labels <span class="op">=</span> [<span class="st">"Africa"</span>, <span class="st">"Americas"</span>, <span class="st">"Asia"</span>, <span class="st">"Europe"</span>])</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> guides(size <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> theme(</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    panel_background <span class="op">=</span> element_rect(fill <span class="op">=</span> <span class="st">'white'</span>),</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    panel_grid <span class="op">=</span> element_blank(),</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    panel_grid_major <span class="op">=</span> element_line(color <span class="op">=</span> <span class="st">"#CCCCCC"</span>), <span class="co">#lighter color of gray</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    panel_border <span class="op">=</span> element_rect(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    axis_line <span class="op">=</span> element_line(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    axis_text <span class="op">=</span> element_text(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    axis_title <span class="op">=</span> element_text(color <span class="op">=</span> <span class="st">'gray'</span>))</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> theme(figure_size <span class="op">=</span> (<span class="fl">7.5</span>, <span class="fl">3.5</span>)) <span class="co">#adjusts size of plot</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_size_continuous(<span class="bu">range</span> <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">10</span>]) <span class="co">#adjusts size of points</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/kabirwagle/opt/anaconda3/lib/python3.8/site-packages/plotnine/layer.py:364: PlotnineWarning: geom_point : Removed 104 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Lab1_Gapminder_files/figure-html/cell-10-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="203">
<pre><code>&lt;Figure Size: (750 x 350)&gt;</code></pre>
</div>
</div>
<div class="cell" data-execution_count="196">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(ggplot(df2, aes(x <span class="op">=</span> <span class="st">"imports"</span>, y <span class="op">=</span> <span class="st">"exports"</span>, size <span class="op">=</span> <span class="st">"energy"</span>))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> geom_count()</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> facet_wrap(<span class="st">'four_regions'</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Lab1_Gapminder_files/figure-html/cell-11-output-1.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="196">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>
</div>
<p>The above plot is a scatterplot of Imports against Exports, with energy denoting the size of the bubble. Aditionally, the plots are facet wrapped to show the distributons for each of the four regions. The benefit of the facet wrap is that it better allows us to see the relationships within each region. However, unlike the previous grpah it is not as visually appealing. Additionally, if you are aiming to analyze this data on a worldwide scale, the facetwrap isn’t as useful.</p>
</section>
<section id="task-3" class="level1">
<h1>Task 3:</h1>
<ul>
<li>Scatter plot of Individuals using the internet vs GDP per Capita</li>
<li>Bubble size denotes Income level</li>
<li>Bubble color denotes the region</li>
<li>Each data point represents a country</li>
<li>X axis is linear</li>
<li>Y axis increases exponentially</li>
</ul>
<div class="cell" data-execution_count="197">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> pd.read_csv(<span class="st">'q3data.csv'</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="197">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">internet_users</th>
<th data-quarto-table-cell-role="th">gdp</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">four_regions</th>
<th data-quarto-table-cell-role="th">six_regions</th>
<th data-quarto-table-cell-role="th">eight_regions</th>
<th data-quarto-table-cell-role="th">world_bank_region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.00456</td>
<td>330.0</td>
<td>1190.0</td>
<td>2001</td>
<td>Afghanistan</td>
<td>asia</td>
<td>south_asia</td>
<td>asia_west</td>
<td>South Asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.39000</td>
<td>2570.0</td>
<td>6780.0</td>
<td>2001</td>
<td>Albania</td>
<td>europe</td>
<td>europe_central_asia</td>
<td>europe_east</td>
<td>Europe &amp; Central Asia</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1.59000</td>
<td>3770.0</td>
<td>9230.0</td>
<td>2001</td>
<td>Algeria</td>
<td>africa</td>
<td>middle_east_north_africa</td>
<td>africa_north</td>
<td>Middle East &amp; North Africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>NaN</td>
<td>10500.0</td>
<td>NaN</td>
<td>2001</td>
<td>American Samoa</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>11.30000</td>
<td>42600.0</td>
<td>35600.0</td>
<td>2001</td>
<td>Andorra</td>
<td>europe</td>
<td>europe_central_asia</td>
<td>europe_west</td>
<td>Europe &amp; Central Asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">210</td>
<td>1.85000</td>
<td>847.0</td>
<td>3270.0</td>
<td>2001</td>
<td>Vietnam</td>
<td>asia</td>
<td>east_asia_pacific</td>
<td>east_asia_pacific</td>
<td>East Asia &amp; Pacific</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">211</td>
<td>27.50000</td>
<td>36700.0</td>
<td>NaN</td>
<td>2001</td>
<td>Virgin Islands (U.S.)</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">212</td>
<td>0.51900</td>
<td>1190.0</td>
<td>4940.0</td>
<td>2001</td>
<td>Yemen</td>
<td>asia</td>
<td>middle_east_north_africa</td>
<td>asia_west</td>
<td>Middle East &amp; North Africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">213</td>
<td>0.47800</td>
<td>991.0</td>
<td>2080.0</td>
<td>2001</td>
<td>Zambia</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">214</td>
<td>1.10000</td>
<td>1330.0</td>
<td>3190.0</td>
<td>2001</td>
<td>Zimbabwe</td>
<td>africa</td>
<td>sub_saharan_africa</td>
<td>africa_sub_saharan</td>
<td>Sub-Saharan Africa</td>
</tr>
</tbody>
</table>

<p>215 rows × 9 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="205">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> df3.loc[:, [<span class="st">'internet_users'</span>, <span class="st">'gdp'</span>,<span class="st">'income'</span>, <span class="st">'country'</span>, <span class="st">'four_regions'</span>]]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>df3 <span class="op">=</span> df3.dropna() <span class="co">#Drop the NAN values</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>df3.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="205">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">internet_users</th>
<th data-quarto-table-cell-role="th">gdp</th>
<th data-quarto-table-cell-role="th">income</th>
<th data-quarto-table-cell-role="th">country</th>
<th data-quarto-table-cell-role="th">four_regions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.00456</td>
<td>330.0</td>
<td>1190.0</td>
<td>Afghanistan</td>
<td>asia</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.39000</td>
<td>2570.0</td>
<td>6780.0</td>
<td>Albania</td>
<td>europe</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1.59000</td>
<td>3770.0</td>
<td>9230.0</td>
<td>Algeria</td>
<td>africa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>11.30000</td>
<td>42600.0</td>
<td>35600.0</td>
<td>Andorra</td>
<td>europe</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>0.27000</td>
<td>2440.0</td>
<td>2900.0</td>
<td>Angola</td>
<td>africa</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="217">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(ggplot(df3, aes(x <span class="op">=</span> <span class="st">"internet_users"</span>, y <span class="op">=</span> <span class="st">"gdp"</span>, color <span class="op">=</span> <span class="st">"four_regions"</span>, size <span class="op">=</span> <span class="st">"income"</span>))</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> geom_point()</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_x_continuous(limits <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">90</span>), breaks <span class="op">=</span> <span class="bu">range</span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">10</span>))</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_y_log10(limits <span class="op">=</span> (<span class="dv">200</span>, <span class="dv">100000</span>), breaks <span class="op">=</span> [<span class="dv">200</span>,<span class="dv">500</span>,<span class="dv">1000</span>,<span class="dv">2000</span>,<span class="dv">5000</span>,<span class="dv">10000</span>, <span class="dv">20000</span>, <span class="dv">50000</span>, <span class="dv">100000</span>])</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> labs(x <span class="op">=</span> <span class="st">"Individuals using the Internet"</span>, y <span class="op">=</span> <span class="st">"GDP/capita"</span>, color <span class="op">=</span> <span class="st">"World Region"</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> guides(size <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_color_manual(values <span class="op">=</span> [<span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"red"</span>, <span class="st">"yellow"</span>], </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                    labels <span class="op">=</span> [<span class="st">"Africa"</span>, <span class="st">"Americas"</span>, <span class="st">"Asia"</span>, <span class="st">"Europe"</span>])</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> theme(</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    panel_background <span class="op">=</span> element_rect(fill <span class="op">=</span> <span class="st">'white'</span>),</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    panel_grid <span class="op">=</span> element_blank(),</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>    panel_grid_major <span class="op">=</span> element_line(color <span class="op">=</span> <span class="st">"#CCCCCC"</span>), <span class="co">#lighter color of gray</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    panel_border <span class="op">=</span> element_rect(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    axis_line <span class="op">=</span> element_line(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    axis_text <span class="op">=</span> element_text(color <span class="op">=</span> <span class="st">'gray'</span>),</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>    axis_title <span class="op">=</span> element_text(color <span class="op">=</span> <span class="st">'gray'</span>))</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> theme(figure_size <span class="op">=</span> (<span class="fl">7.5</span>, <span class="fl">3.5</span>)) <span class="co">#adjusts size of plot</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> scale_size_continuous(<span class="bu">range</span> <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">10</span>]) <span class="co">#adjusts size of points</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/kabirwagle/opt/anaconda3/lib/python3.8/site-packages/plotnine/layer.py:364: PlotnineWarning: geom_point : Removed 119 rows containing missing values.</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Lab1_Gapminder_files/figure-html/cell-14-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="217">
<pre><code>&lt;Figure Size: (750 x 350)&gt;</code></pre>
</div>
</div>
<div class="cell" data-execution_count="223">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>(ggplot(df3, aes(x <span class="op">=</span> <span class="st">"internet_users"</span>, y <span class="op">=</span> <span class="st">"gdp"</span>, color <span class="op">=</span> <span class="st">"four_regions"</span>, size <span class="op">=</span> <span class="st">"income"</span>))</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="op">+</span> geom_jitter()</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Lab1_Gapminder_files/figure-html/cell-15-output-1.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display" data-execution_count="223">
<pre><code>&lt;Figure Size: (640 x 480)&gt;</code></pre>
</div>
</div>
<p>Above is a classic scatter plot of Internet Users against GDP per capita. What makes geom_jitter() differente is that it jitters the points to reduce the amount of overlap. Like the Main plot, this one maintains the color and sizing variables. It allows us to clearly see which regions have higher or lower levels of Internet users, GDP, and Income. It doesn’t have the same aesthetics of the main plot, but maintains its key features.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>